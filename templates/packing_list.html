{% extends 'base.html' %}

{% block title %}PACK MANAGER{% endblock %}

{% block content %}

    <style>
        .weather {
            display: inline-block; 
        }
      
        #image {
            -webkit-filter: grayscale(100%);
            filter: greyscale(100%);
        }

        #title {
            -webkit-filter: grayscale(100%);
            filter: greyscale(100%);
            width: 100%;
            height: 400px;
            background-image: url('{{ image }}');
            background-size: cover;
        }
          
        h1 {
            color: white;
            text-align: center;
        }

        h2 {
            color: white;
            text-align: center;
        }

    </style>

    <div id='title'> <h1>{{ trip_name }}</h1>

    {% for item in location_weather_list %}
    {% if item[1] %}
        <div class='weather'><img src='{{ item[3] }}'>
        {{ item[1] }}°/{{ item[2] }}°
        {{ item[0] }}
    {% else %}
        {{ item[0] }}
    {% endif %}
    </div>
    </div>
    {% endfor %}

    <table id='packing-list' class='tablesorter' style="width:50%">
        <thead>
            <tr>
                <th>Category</th>
                <th>Item</th>
                <th>Location</th>
            </tr>
        </thead>
        <tbody>
        {% for item in items %}
            <tr id='{{ item[1] }}'>
                <td>{{ item[3] }}</td>
                <td>{{ item[0] }}</td>
                <td>{{ item[2] }}</td>
                <td><div class='remove'>X</div></td>
            </tr>
        {% endfor %}

        {% for item in core_list %}
            <tr>
                <td>{{ item[1] }}</td>
                <td>{{ item[0] }}</td>
                <td>Core Packing List<td>
            </tr>
        {% endfor %}
        </tbody>  
    </table>    

    <form id='new-item' action='/create_list' method='POST'>
        Item Category: 
        <select id='item-category' name='category'>
            <option value="" disabled selected>Choose One</option>
            {% for category in categories %}
            <option value='{{ category[0] }}'>{{ category[0] }}</option>
            {% endfor %}
        </select>

        Item Description: <input type='text' id='item-description' 
        name='description'>
        
        Item Location: 
        <select id='item-location' name='location'>
            {% for location in location_list %}
            <option value='{{ location[0] }}'>{{ location[0] }}</option>
            {% endfor %}
        </select>

        <input type="Submit" value='Add Item'>
    </form>

    <form action='/send_email' id='send_email' method='POST'>
        Email your packing list!
        <input type='email' id='email' placeholder='email address'>
        <input type='submit' value='Send'>
    </form>

    <form action='/reset_trip'>
        <input type='submit' value='Start a new trip!'>
    </form>

    <script type='text/javascript' src='/static/js/add_remove_item.js'></script>
    <script type='text/javascript' src='/static/js/send_email.js'></script>


{% endblock %}