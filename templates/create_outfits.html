{% extends 'base.html' %}

{% block title %}PACK MANAGER{% endblock %}

{% block content %}

    <style>
        .weather {
          display: inline-block; 
          color: black;
          float: right;
          padding-right: 30px;
          padding-top: 10px;
        }

        #weather {
            display: inline-block;

        }
        .image {
            -webkit-filter: grayscale(100%);
            filter: greyscale(100%);
            width: 100%;
            height: 300px;
            background-image: url('{{ location_image_url }}');
            background-size: cover;
            background-position: center;
            position: relative;
        }
      
        .title {
            position: absolute;
            color: white;
            font-size: 44px;
            background-color: rgba(0,0,0,0.5);
            opacity: 10;
            z-index: 0;
            top: 30%;
            left: 0;
        }

        .new-outfit {
            margin-left: auto;
            margin-right: auto;
            display: block;
            padding: 5px;
        }

        .outfit-header {
            font-size: 16px;
            padding: 2px;
            display: inline-block;
        }

        .header {
            font-size: 24px;
            padding: 5px;
        }

        .sub-header {
            font-size: 20px;
            padding-bottom: 5px;
            padding-left: 5px;
        }

        .add-button {
            padding: 5px;
        }

        .added-response {
            display: none;
            padding: 2px;
            color: red;
        }

        .missing-item {
            padding: 5px;
        }

        .add-location {
            padding: 5px;
        }
 
        .see-list {
            padding: 5px;
        }

        .delete {
            display: none;
        }

        .outfits:hover .delete {
            display: inline-block;
        }
    </style>
    
    <div class="container-fluid">
        <div class='image'>
        <div class='title text-center'>
        <div id='trip'>{{ location[0] }}, {{ location[1] }}</div>
        <div id='location'>{{ trip_name }}</div>
        </div>
    </div>

    <div class='weather'>
    {% for item in session['weather_list'] %}
    <div id='weather' class='weather text-center'>
      <img src='{{ item[4] }}'>
      <div>{{ item[0] }}</div>
      <div>{{ item[1] }}</div>
      <div>{{ item[2] }}°/{{ item[3] }}°</div>
    </div>
    {% endfor %}
  </div>

    <div class='header'>Create Your Outfits</div>
    <div class='sub-header'>Complete your outfits by adding the items you want to pack.</div>

    {% for outfit in range(num_formal|int) %}
        <div class='outfits'>
        <div class='outfit-header'>Formal outfit #{{ outfit + 1 }}</div>
        <div class='added-response'>Added!</div>
        <form class='new-outfit' method='POST'>
            <div>Category: 
            <select class='shirt-category' name='category'>
                <option value="Shirt">Shirt</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shirt-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='pants-category' name='category'>
                <option value="Pants">Pants</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='pants-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='shoes-category' name='category'>
                <option value="Shoes">Shoes</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shoes-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>
            <div class='add-button'><input type="Submit" value='Add Outfit'></div>
        </form>
    </div>
    {% endfor %}

    {% for outfit in range(num_casual|int) %}
        <div class='outfits'>
        <div class='outfit-header'>Casual outfit #{{ outfit + 1 }}</div>
        <div class='added-response'>Added!</div>
        <form class='new-outfit' method='POST'>
            <div>Category: 
            <select class='shirt-category' name='category'>
                <option value="Shirt">Shirt</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shirt-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='pants-category' name='category'>
                <option value="Pants">Pants</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='pants-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='shoes-category' name='category'>
                <option value="Shoes">Shoes</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shoes-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>
            <div class='add-button'><input type="Submit" value='Add Outfit'></div>
        </form>
    </div>
    {% endfor %}

    {% for outfit in range(num_active|int) %}
        <div class='outfits'>
        <div class='outfit-header'>Active outfit #{{ outfit + 1 }}</div>
        <div class='added-response'>Added!</div>        
        <form class='new-outfit' method='POST'>
            <div>Category: 
            <select class='shirt-category' name='category'>
                <option value="Shirt">Shirt</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shirt-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='pants-category' name='category'>
                <option value="Pants">Pants</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='pants-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='shoes-category' name='category'>
                <option value="Shoes">Shoes</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shoes-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>
            <div class='add-button'><input type="Submit" value='Add Outfit'></div>
        </form>
    </div>
    {% endfor %}

    {% for outfit in range(num_going_out|int) %}
        <div class='outfits'>
        <div class='outfit-header'>Going Out outfit #{{ outfit + 1 }}</div>
        <div class='added-response'>Added!</div>        
        <form class='new-outfit' method='POST'>
            <div>Category: 
            <select class='shirt-category' name='category'>
                <option value="Shirt">Shirt</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shirt-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='pants-category' name='category'>
                <option value="Pants">Pants</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='pants-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>

            <div>Category: 
            <select class='shoes-category' name='category'>
                <option value="Shoes">Shoes</option>
                {% for category in categories %}
                <option value='{{ category[0] }}'>{{ category[0] }}</option>
                {% endfor %}
            </select>
            Description: <input type='text' class='shoes-description' name='description'>
                <div class="delete"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></div></div>
            <div class='add-button'><input type="Submit" value='Add Outfit'></div>
        </form>
    </div>
    {% endfor %}

    <div class='missing-item'>
    Missing an item or outfit? Add them here!
    <form id='new-item' method='POST'>
        Category: 
        <select id='item-category' name='category'>
            <option value="" disabled selected>Choose One</option>
            {% for category in categories %}
            <option value='{{ category[0] }}'>{{ category[0] }}</option>
            {% endfor %}
        </select>
        Description: <input type='text' id='item-description' name='description'>
        <input type="Submit" value='Add Item'>
    </form>

    <table id='packing-list' class='tablesorter' style="width:50%">
        <thead>
            <tr>
                <th>Category</th>
                <th>Item</th>
                <th>Location</th>
                <th></th>
            </tr>
        </thead>
        <tbody>            
        </tbody>  
    </table> 
    </div>

     <div class='add-location'>
     <form method='POST' action='/new_trip'>    
        Add another location to your trip: <input type='text' name='location' id='autocomplete'>
        <input type='submit' id='submit_location' value='Go!'>
    </div>
    </form>

    <div class='see-list'>
    <form action="/packing_list/{{trip_name}}">
        <input type='submit' id='submit_location' value='Show Me My Packing List!'>
    </form>
    </div>
    </div>


    <script type='text/javascript' src='/static/js/location.js'></script>
    <script type='text/javascript' src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzyl6IGlGGmnVCqHiAluta6VfjuGf6Fec&libraries=places"></script>
    <script type='text/javascript' src='/static/js/add_remove_item.js'></script>
    
    <script>
    // $(".new-outfit").hover(function(){
    //     console.log("WORKS");
    //     $('.delete').css("display", "inline-block");
    // });

    // $(".new-outfits").hover(function(){
    //     $('.delete').toggleClass('hidden');
    // });
        // $('.done').change(function() {
        //     if ($('.done').on('click') ) {
        //         $(this).closest('tr').toggleClass('strike');
        //     }
        // });
    </script>

{% endblock %}